<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard • Barber Salon</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
  </head>
  <body>
    <header class="header">
      <div class="wrap header-inner">
        <h1 class="brand">
          <a href="/admin/login" class="brand-link">Admin Dashboard</a>
          <% if (typeof storeLabel !== 'undefined' && storeLabel) { 
               const _lbl = String(storeLabel || '');
               const _mapped = (_lbl.includes('Νίκαια') || _lbl.includes('Nikaia')) ? 'Store 1' : ((_lbl.includes('Αιγάλεω') || _lbl.includes('Aigaleo')) ? 'Store 2' : _lbl);
          %>
            <span class="badge" style="margin-left:8px;"><%= _mapped %></span>
          <% } %>
        </h1>
        <nav class="nav">
          <a class="btn btn-outline" href="/">View site</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="wrap center">
          <div class="card card-narrow">
            <h2 class="title" style="margin-bottom:8px;">Sign in</h2>
            <p class="subtitle" style="margin-bottom:12px;">Enter your admin password to continue.</p>
            <form method="POST" action="<%= typeof loginAction !== 'undefined' ? loginAction : '/admin/login' %>">
              <label>
                <span>Password</span>
                <input type="password" name="password" placeholder="Enter admin password" required />
              </label>
              <div class="actions" style="margin-top:12px;">
                <button type="submit" class="btn">Sign in</button>
              </div>
              <% if (typeof error !== 'undefined' && error) { %>
                <div class="msg error" style="margin-top:8px;"><%= error %></div>
              <% } %>
              <div class="msg" style="margin-top:14px;">Use one of the codes:</div>
              <div class="badges" style="margin-top:6px;">
                <button type="button" class="badge-chip code-fill" data-code="7080616" title="Fill password with code">Store 1: 7080616</button>
                <button type="button" class="badge-chip code-fill" data-code="7080610" title="Fill password with code">Store 2: 7080610</button>
                <button type="button" class="badge-chip code-fill" data-code="7080619" title="Fill password with code">Master: 7080619</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </main>
    <script>
      (function(){
        const input = document.querySelector('input[name="password"]');
        document.querySelectorAll('.code-fill').forEach(el => {
          el.addEventListener('click', () => {
            if (!input) return;
            input.value = el.dataset.code || '';
            input.focus();
          });
        });
      })();
    </script>
  </body>
</html>
